require(["config"],function(){require(["jquery","header","footer","template","cookie","fdj"],function(n,t,o,c){new Promise(function(t,o){n("header").load("/html/component/header.html",function(){t()}),n("footer").load("/html/component/footer.html")}).then(function(){t.nav(),t.shouye(),t.cookie(),t.logout(),t.shownum()}).then(function(){var i=location.search.slice(1).split("=");({})[i[0]]=i[1],n.ajax({method:"GET",url:"http://rap2api.taobao.org/app/mock/116140/details",success:function(t){var o=c("detail-template",{detail:t.pro_details}),e=c("hot-template",{hot:t.hot_pro});n("#detail-wrap").html(o),n("#hot-ul").html(e),n("#add-btn").click(function(t){n(".zhebi").show(),n(".ok-add").show(),n.cookie.json=!0;var o,e={id:i[1],title:n(".pro_title").text(),img:n(".detail-img img:first").attr("src"),price:n(".pro_price").text().slice(1),num:1};(o=n.cookie("product")?n.cookie("product"):[]).some(function(t){return t.id==e.id&&(t.num++,!0)})||o.push(e),n(".cart-num").text(o.length),n.cookie("product",o,{expires:3,path:"/"})}),n(".go-on").click(function(){n(".zhebi").hide(),n(".ok-add").hide()}),n(".add").click(function(){var t=n(".in-num").val();t++,n(".in-num").val(t)}),n(".sub").click(function(){var t=n(".in-num").val();1<t&&(t--,n(".in-num").val(t))})}})})})});